!function t(r,n,i){function o(a,u){if(!n[a]){if(!r[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(e)return e(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var s=n[a]={exports:{}};r[a][0].call(s.exports,function(t){var n=r[a][1][t];return o(n?n:t)},s,s.exports,t,r,n,i)}return n[a].exports}for(var e="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,r,n){function i(){var t=e(document.location.search);if(null==t.id||null==t.tip)return $("#loading").hide(),void c.show();var r=a();if(null==r.ip||null==r.port)return $("#loading").hide(),void p.show(t);var n=r.latest;return null!=n&&n.id===t.id&&n.tip===t.tip&&n.date>Date.now()-15e3?($("#loading").hide(),void p.show(t)):void s.show(r,t)}function o(t,r,n,i){Cookies.set("latest",JSON.stringify({id:n,tip:i,date:Date.now()}));var o="http://"+t+":"+r+"/pls/"+n+"?tip="+i;$(".link").attr("href",o),$("#iframe").attr("src",o)}function e(t){var r={};return t.slice(1).split("&").map(function(t){return t.split("=")}).forEach(function(t){r[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}),r}function a(){return{ip:Cookies.get("ip"),port:Number.parseInt(Cookies.get("port")),latest:u(Cookies.get("latest"))}}function u(t){try{return JSON.parse(t)}catch(r){return null}}var c;!function(t){function r(){$("#creator").show(),$("#creator-streamURL").bind("input",function(){var t=/http:\/\/([0-9]+\.[0-9]+\.[0-9]+\.[0-9]+):([0-9]+)\/stream\/([0-9abcdef]+)/.exec($(this).val());if(null!=t){var r=e(t[1].split(".").map(function(t){return Number.parseInt(t)}));i(r)&&$("#creator-ip").val(t[1]),$("#creator-id").val(t[3]),$("#creator-port").val(t[2]),n()}}),$("#creator-id").bind("input",n),$("#creator-ip").bind("input",n),$("#creator-port").bind("input",n),getIPs(function(t){o(t)&&i(e(t.split(".").map(function(t){return Number.parseInt(t)})))&&($("#creator-ip").val(t),n())})}function n(){var t=location.href.replace(/\?.*/,""),r=$("#creator-id").val()||"{チャンネルID}",n=$("#creator-ip").val()||"{IP}",i=$("#creator-port").val()||"{ポート番号}";$("#creator-output").val(t+"?id="+r+"&tip="+n+":"+i)}function i(t){return!(e([10,0,0,0])<=t&&t<=e([10,255,255,255])||e([127,0,0,0])<=t&&t<=e([127,255,255,255])||e([169,254,0,0])<=t&&t<=e([169,254,255,255])||e([172,16,0,0])<=t&&t<=e([172,31,255,255])||e([192,168,0,0])<=t&&t<=e([192,168,255,255])||e([224,0,0,0])<=t)}function o(t){return t.match(/[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+/)}function e(t){return 16777216*t[0]+65536*t[1]+256*t[2]+t[3]}t.show=r}(c||(c={}));var p;!function(t){function r(t){$("#setting").show(),$("#setting-button").click(function(){$("#setting-info").show();var r=$("#setting-ip").val(),n=Number.parseInt($("#setting-port").val());Cookies.set("ip",r),Cookies.set("port",n),o(r,n,t.id,t.tip)})}t.show=r}(p||(p={}));var s;!function(t){function r(t,r){o(t.ip,t.port,r.id,r.tip)}t.show=r}(s||(s={})),i()},{}]},{},[1]);